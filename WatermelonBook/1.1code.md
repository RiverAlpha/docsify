## 代码实现（Python）


```python
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
from sklearn.model_selection import train_test_split
from sklearn.linear_model import LinearRegression
from sklearn.metrics import mean_squared_error, r2_score

# ==========================================
# 第一步：模拟数据 (Data Generation)
# ==========================================
np.random.seed(42) # 设置随机种子以保证结果可复现
n_samples = 1000

# 1. 随机生成特征 (Features)
# 身高: 150cm 到 190cm 之间
height = np.random.normal(170, 10, n_samples) 
# 年龄: 20岁 到 60岁 之间
age = np.random.randint(20, 60, n_samples)
# 体脂率: 10% 到 35% 之间 (0.10 - 0.35)
body_fat = np.random.uniform(0.10, 0.35, n_samples)

# 2. 定义"上帝视角"的真实关系 (Ground Truth)
# 假设逻辑：
# - 基础体重 (截距) = -50kg
# - 身高每增加1cm，体重增加 0.6kg
# - 年龄每增加1岁，体重增加 0.05kg (代谢变慢，微弱影响)
# - 体脂率每增加100% (即1.0)，体重增加 60kg (显著影响)
real_bias = -50
real_weights = [0.6, 0.05, 60] 

# 3. 生成目标值 (Target: Weight) + 添加随机噪音
noise = np.random.normal(0, 2, n_samples) # 噪音标准差为2kg
weight = (real_bias + 
          real_weights[0] * height + 
          real_weights[1] * age + 
          real_weights[2] * body_fat + 
          noise)

# 4. 整理成 DataFrame
data = pd.DataFrame({
    '身高(cm)': height,
    '年龄(岁)': age,
    '体脂率(%)': body_fat,
    '体重(kg)': weight
})

print(">>> 数据预览 (前5行):")
print(data.head())
print("-" * 30)

# ==========================================
# 第二步：模型训练 (Model Training)
# ==========================================

# 准备数据
X = data[['身高(cm)', '年龄(岁)', '体脂率(%)']]
y = data['体重(kg)']

# 拆分训练集和测试集 (80% 训练, 20% 测试)
X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)

# 初始化并训练线性回归模型
model = LinearRegression()
model.fit(X_train, y_train)

# ==========================================
# 第三步：模型评估与解释 (Evaluation)
# ==========================================

# 预测
y_pred = model.predict(X_test)

# 输出模型学到的参数
print(">>> 模型学习结果:")
print(f"截距 (Bias): {model.intercept_:.2f} (真实值: {real_bias})")
print(f"权重 (Weights):")
print(f"  身高: {model.coef_[0]:.2f} (真实值: {real_weights[0]})")
print(f"  年龄: {model.coef_[1]:.2f} (真实值: {real_weights[1]})")
print(f"  体脂率: {model.coef_[2]:.2f} (真实值: {real_weights[2]})")

# 评估指标
mse = mean_squared_error(y_test, y_pred)
r2 = r2_score(y_test, y_pred)

print("-" * 30)
print(f"均方误差 (MSE): {mse:.2f}")
print(f"R² 分数 (越接近1越好): {r2:.4f}")

# ==========================================
# 第四步：可视化 (Visualization)
# ==========================================
plt.figure(figsize=(10, 5))

# 绘制真实值 vs 预测值
plt.scatter(y_test, y_pred, alpha=0.5, color='blue')
plt.plot([y.min(), y.max()], [y.min(), y.max()], 'r--', lw=2) # 完美预测线
plt.xlabel('真实体重 (True Weight)')
plt.ylabel('预测体重 (Predicted Weight)')
plt.title('线性回归预测效果：真实值 vs 预测值')
plt.grid(True)
plt.show()
```